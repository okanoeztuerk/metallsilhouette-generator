<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Metallsilhouette Generator</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    form > * { display: block; margin: 10px 0; }
    img { border: 1px solid #ccc; max-width: 400px; }
    .downloads a { margin-right: 10px; }
  </style>
</head>
<body>
  <h1>Metallsilhouette Generator</h1>

  <form action="/" method="post" enctype="multipart/form-data">
    <!-- Bild-Upload bleibt optional -->
    <label>1) Bild hochladen:</label>
    <input type="file" name="image" accept="image/*">

    <!-- Stil mit Auswahl bestehen lassen -->
    <label>2) Stil wählen:</label>
    <select name="stil">
      <option value="einfach"    {% if stil=='einfach' %}selected{% endif %}>Einfache Silhouette</option>
      <option value="glatt"      {% if stil=='glatt'   %}selected{% endif %}>Glatte Silhouette</option>
      <option value="linien"     {% if stil=='linien'  %}selected{% endif %}>Linienmuster</option>
      <option value="gitter"     {% if stil=='gitter'  %}selected{% endif %}>Geometrisches Raster</option>
      <option value="organisch"  {% if stil=='organisch'%}selected{% endif %}>Organische Ausschnitte</option>
      <option value="punktmuster"{% if stil=='punktmuster'%}selected{% endif %}>Waben-Lochmuster</option>
      <option value="triangle_free"{% if stil=='triangle_free'%}selected{% endif %}>Freie Dreiecke</option>
      <option value="vierreck"{% if stil=='vierreck'%}selected{% endif %}>Viereck</option>
      <option value="vierreck2"{% if stil=='vierreck'%}selected{% endif %}>Viereck2</option>
    </select>

    <!-- Farbe mit Auswahl bestehen lassen -->
    <label>3) Farbe wählen:</label>
    <select name="farbe">
      <option value="schwarz"{% if farbe=='schwarz' %}selected{% endif %}>Schwarz</option>
      <option value="weiss"  {% if farbe=='weiss'   %}selected{% endif %}>Weiß</option>
      <option value="rot"    {% if farbe=='rot'     %}selected{% endif %}>Rot</option>
      <option value="gruen"  {% if farbe=='gruen'   %}selected{% endif %}>Grün</option>
      <option value="blau"   {% if farbe=='blau'    %}selected{% endif %}>Blau</option>
      <option value="gelb"   {% if farbe=='gelb'    %}selected{% endif %}>Gelb</option>
      <option value="mint"   {% if farbe=='mint'    %}selected{% endif %}>Mint</option>
      <option value="senf"   {% if farbe=='senf'    %}selected{% endif %}>Senf</option>
    </select>

    <button type="submit">Generieren</button>
  </form>

  <div class="preview">
    {% if upload_url %}
      <h2>Hochgeladenes Bild</h2>
      <img src="{{ upload_url }}" alt="Original">
    {% endif %}

    {% if result_url %}
      <h2>Silhouette (PNG)</h2>
      <img src="{{ result_url }}" alt="PNG">
      <div class="downloads">
        <a href="{{ result_url }}" download>PNG herunterladen</a>
      </div>
    {% endif %}

    {% if result_svg %}
      <h2>Silhouette (SVG)</h2>
      <div class="downloads">
        <a href="{{ result_svg }}" download>SVG herunterladen</a>
      </div>
    {% endif %}
  </div>
</body>
</html>
